### 什么是纯函数？
同时满足以下两个特征的函数，我们就认为是纯函数：

- 相同的输入，总会得到相同的输出
- 不会对外部环境产生任何影响，包括不会修改传入的参数，也不会修改全局变量或引起副作用。

### 什么是副作用？
函数副作用是指函数在执行过程中，对外部环境产生了影响，包括但不限于以下几种情况：

- 修改了传入的参数。
- 修改了全局变量。
- 发送了网络请求或修改了本地存储等操作。
- 控制台输出等操作。

纯函数纯在【**显式数据流**】，这意味着**函数除了入参和返回值之外，不以任何其它形式与外界进行数据交换**。
### <br />
### “不纯”的元凶——隐式数据流
```javascript
let a = 10  
let b = 20

function add(a, b) {
  return a+b
}

// 30
add(a, b)   

a = 30  
b = 40

// 70
add(a, b)
```
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21596389/1689736605118-8a58683b-2bc1-4312-8162-4c2c4de30828.png#averageHue=%23f7f1ed&clientId=u59faa48d-5df1-4&from=paste&height=247&id=uf66131b2&originHeight=309&originWidth=710&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=42931&status=done&style=none&taskId=u46d64aaa-c439-4474-a5c1-9b816cd70b0&title=&width=568)<br />图中的横向数据流，表示函数自身显式数据流动，方向是从入参到出参。<br />纵向数据流则是隐式数据流，代表函数和外界的数据交换。<br />**一个纯函数在执行过程中应该只有横向数据流，而不应该有纵向数据流。**

### 数学世界的函数 VS 程序世界的函数
数学中的函数总是遵循着这样的原则：**同一个输入，同一个输出。**<br />**对于一个给定的自变量 x，总是会有且仅有一个因变量 y 与它对应。**<br />而计算机科学中的函数，灵活很多，比如一个获取时间的函数：
```javascript
function getToday() {
  return (new Date()).getDate()
}
```
今天是 22 号，我调用 getToday()，它自然会返回 22 给我。但是明天调用或者不同时区调用结果都会不一样。<br />JS 允许函数读写外部变量，允许函数引入副作用。这强化了程序的能力，却弱化了程序的数学性。

### 数学化的 JS 函数 === 纯函数
**函数除了接受入参进行纯纯的计算，然后返回值，啥也不干**。解决了“**不确定性**”和“**副作用**”。<br />**当然副作用不是毒药，我们只需要合理使用副作用即可。**
